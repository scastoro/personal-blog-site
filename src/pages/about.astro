---
import PageLayout from '@/layouts/PageLayout.astro';
import { Image } from 'astro:assets';
import profileImage from '@/assets/images/profile.jpg';

interface Skill {
  name: string;
  level: 'Beginner' | 'Intermediate' | 'Advanced' | 'Expert';
  category: 'Frontend' | 'Backend' | 'Tools' | 'Languages' | 'Design';
}

interface Experience {
  title: string;
  company: string;
  period: string;
  location: string;
  description: string[];
  technologies?: string[];
}


const skills: Skill[] = [
  // Frontend
  { name: 'React', level: 'Expert', category: 'Frontend' },
  { name: 'TypeScript', level: 'Advanced', category: 'Frontend' },
  { name: 'Astro', level: 'Advanced', category: 'Frontend' },
  { name: 'Tailwind CSS', level: 'Expert', category: 'Frontend' },
  { name: 'Next.js', level: 'Advanced', category: 'Frontend' },
  
  // Backend
  { name: 'Node.js', level: 'Advanced', category: 'Backend' },
  { name: 'Python', level: 'Advanced', category: 'Backend' },
  { name: 'PostgreSQL', level: 'Advanced', category: 'Backend' },
  { name: 'MongoDB', level: 'Intermediate', category: 'Backend' },
  
  // Tools
  { name: 'Git', level: 'Expert', category: 'Tools' },
  { name: 'Docker', level: 'Intermediate', category: 'Tools' },
  { name: 'AWS', level: 'Intermediate', category: 'Tools' },
  { name: 'Figma', level: 'Advanced', category: 'Design' },
];

const experiences: Experience[] = [
  {
    title: 'Application Engineer',
    company: 'Great American Insurance Group',
    period: 'April 2023 - Present',
    location: '',
    description: [
      'Led modernization of flagship commercial insurance quoting platform, migrating from legacy systems to React and Node.js/Express, resulting in 30% faster page load times and ~20% reduction in quoting errors reported by brokers',
      'Designed and launched a new multi-coverage insurance product from backend schema to frontend UI, contributing to a 12% increase in broker-submitted quotes in its first quarter',
      'Built robust data synchronization pipelines between modern web platform and legacy ERP systems using microservices architecture; resolved schema and nullability mismatches, reducing manual data correction needs by 80%',
      'Delivered technical presentations to 50+ engineers during company meetings on Redux architecture, agentic coding tools, and AI-assisted workflows',
      'Acted as point of contact for onboarding and mentorship, helping ramp up junior devs and collaborating on complex front-end/back-end challenges'
    ],
    technologies: ['React', 'TypeScript', 'Node.js', 'Express', 'Redux', 'PostgreSQL', 'AWS', 'Microservices']
  },
  {
    title: 'Software Developer',
    company: 'PS Solutions',
    period: 'May 2022 - March 2023',
    location: '',
    description: [
      'Built PTO request and tracking system in React and Node.js/Express deployed via AWS',
      'Integrated RingCentral calling functionality into client CRM using TypeScript and microservices architecture'
    ],
    technologies: ['React', 'Node.js', 'Express', 'AWS', 'TypeScript', 'RingCentral API', 'Microservices']
  },
  {
    title: 'IT Analyst',
    company: 'Clima Cube Self Storage',
    period: 'Jan 2020 - Apr 2022',
    location: '',
    description: [
      'Developed a custom price tracking tool with React and Next.js using TypeScript that increased observability into competitor pricing allowing for frequent rate adjustment'
    ],
    technologies: ['React', 'Next.js', 'TypeScript', 'CSS', 'AWS']
  }
];


const skillCategories = ['Frontend', 'Backend', 'Tools', 'Design'] as const;
---

<PageLayout
  title="About Me"
  description="Learn more about my background, skills, and professional experience as a software engineer."
>
  <!-- Hero Section -->
  <section class="py-16 lg:py-20">
    <div class="container">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 lg:gap-16 items-center">
        <!-- Profile Photo -->
        <div class="lg:col-span-1 flex justify-center lg:justify-start">
          <div class="relative">
            <div class="w-64 h-64 lg:w-80 lg:h-80 rounded-2xl overflow-hidden shadow-xl">
              <Image
                src={profileImage}
                alt="Professional headshot of Sal Castoro"
                width={320}
                height={320}
                class="w-full h-full object-cover object-[center_30%]"
                loading="lazy"
                densities={[1, 2]}
                format="webp"
                quality={85}
              />
            </div>
            <!-- Decorative elements -->
            <div class="absolute -top-4 -right-4 w-8 h-8 bg-blue-500 rounded-full opacity-20"></div>
            <div class="absolute -bottom-6 -left-6 w-12 h-12 bg-indigo-400 rounded-full opacity-15"></div>
          </div>
        </div>

        <!-- Introduction -->
        <div class="lg:col-span-2">
          <div class="max-w-3xl">
            <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6 text-balance">
              Hi, I'm Sal 
            </h1>
            <div class="space-y-6">
              <p class="text-xl lg:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed">
                I'm a passionate software engineer with over 5 years of experience creating amazing digital experiences. 
                I love turning complex problems into simple, beautiful solutions.
              </p>
              <p class="text-lg text-gray-600 dark:text-gray-400 leading-relaxed">
                Currently, I work with modern frontend technologies like React and Astro, 
                while also designing backend systems with Node.js and Python on cloud infrastructure such as AWS. I'm always excited to learn new technologies and tackle challenging projects.
              </p>
              <p class="text-lg text-gray-600 dark:text-gray-400 leading-relaxed">
                When I'm not coding, you can find me exploring new technologies, playing tabletop RPGs, 
                or sharing my knowledge through blog posts and community involvement.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills Section -->
  <section class="py-16 bg-gray-50 dark:bg-gray-900/50">
    <div class="container">
      <div class="text-center mb-12">
        <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          Skills & Expertise
        </h2>
        <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
          A comprehensive overview of my technical skills and areas of expertise
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8">
        {skillCategories.map(category => (
          <div class="card">
            <div class="card__body">
              <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                {category === 'Frontend' && (
                  <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                  </div>
                )}
                {category === 'Backend' && (
                  <div class="w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2" />
                    </svg>
                  </div>
                )}
                {category === 'Tools' && (
                  <div class="w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                  </div>
                )}
                {category === 'Design' && (
                  <div class="w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-orange-600 dark:text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                    </svg>
                  </div>
                )}
                {category}
              </h3>
              <div class="space-y-4">
                {skills
                  .filter(skill => skill.category === category)
                  .map(skill => (
                    <div class="flex items-center justify-between">
                      <span class="text-gray-700 dark:text-gray-300 font-medium">
                        {skill.name}
                      </span>
                      <span class={`tag ${
                        skill.level === 'Expert' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :
                        skill.level === 'Advanced' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :
                        skill.level === 'Intermediate' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' :
                        'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200'
                      }`}>
                        {skill.level}
                      </span>
                    </div>
                  ))
                }
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Experience Section -->
  <section class="py-16">
    <div class="container">
      <div class="text-center mb-12">
        <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          Professional Experience
        </h2>
        <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
          My journey through various roles and the impact I've made along the way
        </p>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="space-y-8">
          {experiences.map((experience, index) => (
            <div class="relative">
              <!-- Timeline line -->
              {index !== experiences.length - 1 && (
                <div class="absolute left-6 top-16 w-px h-full bg-gray-200 dark:bg-gray-700"></div>
              )}
              
              <div class="flex gap-8">
                <!-- Timeline dot -->
                <div class="flex-shrink-0">
                  <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-lg">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0H8m8 0v2a2 2 0 002 2h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2z" />
                    </svg>
                  </div>
                </div>

                <!-- Experience content -->
                <div class="flex-1 pb-8">
                  <div class="card">
                    <div class="card__body">
                      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4">
                        <div>
                          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                            {experience.title}
                          </h3>
                          <p class="text-lg text-blue-600 dark:text-blue-400 font-medium">
                            {experience.company}
                          </p>
                        </div>
                        <div class="text-sm text-gray-500 dark:text-gray-400 mt-2 sm:mt-0 text-right">
                          <p class="font-medium">{experience.period}</p>
                          <p>{experience.location}</p>
                        </div>
                      </div>
                      
                      <ul class="space-y-2 mb-6">
                        {experience.description.map(item => (
                          <li class="flex items-start gap-3 text-gray-600 dark:text-gray-300">
                            <div class="w-1.5 h-1.5 bg-blue-600 rounded-full mt-2 flex-shrink-0"></div>
                            {item}
                          </li>
                        ))}
                      </ul>

                      {experience.technologies && (
                        <div class="flex flex-wrap gap-2">
                          {experience.technologies.map(tech => (
                            <span class="tag">
                              {tech}
                            </span>
                          ))}
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

</PageLayout>